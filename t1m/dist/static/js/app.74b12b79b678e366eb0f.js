webpackJsonp([1],[,function(t,e,n){"use strict";n.d(e,"f",function(){return s}),n.d(e,"m",function(){return u}),n.d(e,"a",function(){return c}),n.d(e,"g",function(){return l}),n.d(e,"h",function(){return f}),n.d(e,"l",function(){return d}),n.d(e,"e",function(){return p}),n.d(e,"i",function(){return m}),n.d(e,"k",function(){return v}),n.d(e,"j",function(){return h}),n.d(e,"n",function(){return b}),n.d(e,"d",function(){return y}),n.d(e,"b",function(){return g}),n.d(e,"c",function(){return _});var a=n(21),r=n.n(a),i=n(162),o=n.n(i),s={I:[[1,1,1,1]],L:[[0,0,1],[1,1,1]],J:[[1,0,0],[1,1,1]],Z:[[1,1,0],[0,1,1]],S:[[0,1,1],[1,1,0]],O:[[1,1],[1,1]],T:[[1,1,1],[0,1,0]]},u={I:[[-1,1],[1,-1]],L:[[0,0]],J:[[0,0]],Z:[[0,0]],S:[[0,0]],O:[[0,0]],T:[[0,0],[1,0],[-1,1],[0,-1]]},c=(o.a.data.title[g],o.a.data),l=[1,1,1,1,1,1,1,1,1,1],f=[0,0,0,0,0,0,0,0,0,0],d=r()(s),p=[800,650,500,370,250,160],m=20,v=999999999,h=function(){for(var t=[],e=0;e<20;e++)t.push(f);return t}(),x=function(t){var e=new RegExp("\\?(?:.+&)?"+t+"=(.*?)(?:&.*)?$"),n=window.location.toString().match(e);return n?decodeURI(n[1]):""},b="VUE_TETRIS",y=function(){var t=window.localStorage.getItem(b);if(!t)return!1;try{window.btoa&&(t=atob(t)),t=decodeURIComponent(t),t=JSON.parse(t)}catch(t){return(window.console||window.console.error)&&window.console.error("读取记录错误:",t),!1}return t}(),g=function(){var t=x("lan").toLowerCase();return!t&&navigator.languages&&(t=navigator.languages.find(function(t){return-1!=o.a.lan.indexOf(t)})),t=-1==o.a.lan.indexOf(t)?o.a.default:t}(),_=function(){var t=["transform","webkitTransform","msTransform","mozTransform","oTransform"],e=document.body;return t.filter(function(t){return void 0!==e.style[t]})[0]}()},function(t,e,n){"use strict";var a=n(72),r=n.n(a),i=n(1),o=n(3),s=(n.n(o),{getNextType:function(){var t=i.l.length;return i.l[Math.floor(Math.random()*t)]},want:function(t,e){e=n.i(o.fromJS)(e);var a=n.i(o.fromJS)(t.shape).get(0).size;return t.shape.every(function(n,r){return n.every(function(n,i){return t.xy[0]+r<0||!(t.xy[0]+r>=20)&&(!(t.xy[1]<0)&&(!(t.xy[1]+a>10)&&(!n||!e.get(t.xy[0]+r).get(t.xy[1]+i))))})})},isClears:function(t){var e=[];return t.forEach(function(t,n){t.every(function(t){return!!t})&&e.push(n)}),0!==e.length&&e},isOver:function(t){return o.List.isList(t)&&(t=t.toJS()),t[0].some(function(t){return!!t})},subscribeRecord:function(t){t.subscribe(function(){var e=t.state;if(e=r()(e),e=encodeURIComponent(e),e.lock)return!1;window.btoa&&(e=btoa(e)),localStorage.setItem(i.n,e)})}});e.a=s},,function(t,e,n){"use strict";var a=n(13),r=n(1),i=n(2),o=n(3),s=(n.n(o),n(7)),u=function(t){for(var e=n.i(o.List)([]),a=0;a<t;a++)e=e.push(function(t,e){for(var a=parseInt((e-t+1)*Math.random()+t,10),r=[],i=0;i<a;i++)r.push(1);for(var s=0,u=10-a;s<u;s++){var c=parseInt((r.length+1)*Math.random(),10);r.splice(c,0,0)}return n.i(o.List)(r)}(3,9));for(var i=0,s=20-t;i<s;i++)e=e.unshift(n.i(o.List)(r.h));return e.toJS()},c={fallInterval:null,start:function(){s.a.start&&s.a.start();var t=a.a.state,e=t.startLines,n=u(e);a.a.commit("speedRun",t.speedStart),c.calculationPoints(0),a.a.commit("matrix",n),a.a.commit("moveBlock",{type:t.next}),a.a.commit("nextBlock",""),c.auto()},auto:function(t){var e=t<0?0:t,s=a.a.state,u=s.cur,l=function t(){s=a.a.state,u=s.cur;var e=u.fallDown();if(i.a.want(e,s.matrix))a.a.commit("moveBlock",e),c.fallInterval=setTimeout(t,r.e[s.speedRun-1]);else{var l=u&&u.shape,f=n.i(o.fromJS)(u&&u.xy),d=n.i(o.fromJS)(s.matrix);l.forEach(function(t,e){return t.forEach(function(t,n){if(t&&f.get(0)+e>=0){var a=d.get(f.get(0)+e);a=a.set(f.get(1)+n,1),d=d.set(f.get(0)+e,a)}})}),c.nextAround(d)}};clearTimeout(c.fallInterval),c.fallInterval=setTimeout(l,void 0===e?r.e[s.speedRun-1]:e)},nextAround:function(t,e){if(clearTimeout(c.fallInterval),a.a.commit("lock",!0),a.a.commit("matrix",t),"function"==typeof e&&e(),i.a.isOver(t))return s.a.gameover&&s.a.gameOver(),void c.overStart();setTimeout(function(){a.a.commit("lock",!1),a.a.commit("moveBlock",{type:a.a.state.next}),a.a.commit("nextBlock",""),c.auto()},100)},pause:function(t){if(a.a.commit("pause",t),t)return clearTimeout(c.fallInterval),!1;c.auto()},clearLines:function(t,e){var i=a.a.state,s=n.i(o.fromJS)(t);e.forEach(function(t){s=s.splice(t,1),s=s.unshift(n.i(o.List)(r.h))}),a.a.commit("matrix",s.toJS()),c.auto(),a.a.commit("lock",!1);var u=i.clearLines+e.length;a.a.commit("clearLines",u);var l=a.a.state.points+10*e.length;c.calculationPoints(l);var f=Math.floor(u/r.i),d=i.speedStart+f;d=d>6?6:d,a.a.commit("speedRun",d),console.log(setTimeout(function(){console.log("张"),setTimeout(function(){console.log("六"),setTimeout(function(){console.log("岁~"),setTimeout(function(){console.log("❥(^_-)")},1e3)},1e3)},1e3)},1e3))},calculationPoints:function(t){a.a.commit("points",t),t>0&&t>a.a.state.maxPoints&&a.a.commit("maxPoints",t)},overStart:function(){clearTimeout(c.fallInterval),a.a.commit("lock",!0),a.a.commit("reset",!0),a.a.commit("pause",!1)},overEnd:function(){a.a.commit("matrix",r.j),a.a.commit("moveBlock",{reset:!0}),a.a.commit("reset",!1),a.a.commit("lock",!1),a.a.commit("clearLines",0)}};e.a=c},,function(t,e,n){"use strict";var a=n(21),r=n.n(a),i={},o=function(t){if(r()(i).forEach(function(t){clearTimeout(i[t]),i[t]=null}),t.callback){var e=function(){clearTimeout(i[t.key])};if(t.callback(e),!0===t.once)return!1;var n=t.begin||100,a=t.interval||50;!function r(){i[t.key]=setTimeout(function(){n=null,r(),t.callback(e)},n||a)}()}},s=function(t){if(clearTimeout(i[t.key]),i[t.key]=null,!t.callback)return!1;t.callback()};e.a={down:o,up:s}},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var a=n(13),r=window.AudioContext||window.webkitAudioContext||window.mozAudioContext||window.oAudioContext||window.msAudioContext,i={data:!!r&&-1!==location.protocol.indexOf("http")},o={};!function(){if(!i.data)return!1;var t="./static/music/music.mp3",e=new r,n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=function(){e.decodeAudioData(n.response,function(t){var n=function(){var n=e.createBufferSource();return n.buffer=t,n.connect(e.destination),n};o.start=function(){if(!a.a.state.music)return!1;n().start(0,3.7202,3.6224)},o.gameOver=function(){if(!a.a.state.music)return!1;n().start(0,8.1276,1.1437)},o.fall=function(){if(!a.a.state.music)return!1;n().start(0,1.2558,.3546)},o.move=function(){if(!a.a.state.music)return!1;n().start(0,2.9088,.1437)},o.rotate=function(){if(!a.a.state.music)return!1;n().start(0,2.2471,.0807)}},function(e){window.console&&window.console.error&&(window.console.error("音频: "+t+" 读取错误",e),hasWebAudioAPI.data=!1)})},n.send()}()},,,,,,function(t,e,n){"use strict";var a=n(20),r=n(42),i=n(70),o=n(30),s=n(2),u=n(1),c=n(7);a.a.use(r.b);var l=u.d&&Array.isArray(u.d.matrix)?u.d.matrix:u.j,f=!(!u.d||void 0===u.d.lock)&&!!u.d.lock,d=!(!u.d||!u.d.reset)&&!!u.d.reset,p=!(!u.d||void 0===u.d.pause)&&!!u.d.pause,m=!(!u.d||void 0===u.d.drop)&&!!u.d.drop,v=u.d&&!isNaN(parseInt(u.d.startLines,10))?parseInt(u.d.startLines,10):0;(v<0||v>10)&&(v=0);var h=u.d&&!isNaN(parseInt(u.d.clearLines,10))?parseInt(u.d.clearLines,10):0;h<0&&(h=0);var x=u.d&&!isNaN(parseInt(u.d.speedRun,10))?parseInt(u.d.speedRun,10):1,b=u.d&&!isNaN(parseInt(u.d.speedStart,10))?parseInt(u.d.speedStart,10):1;(b<1||b>6)&&(b=1);var y=u.d&&!isNaN(parseInt(u.d.points,10))?parseInt(u.d.points,10):0;y<0?y=0:y>u.k&&u.k;var g=u.d&&!isNaN(parseInt(u.d.maxPoints,10))?parseInt(u.d.maxPoints,10):0;g<0?g=0:g>u.k&&(g=u.k);var _=!u.d||void 0===u.d.music||!!u.d.music;c.b.data||(_=!1);var w=u.d&&-1!==u.l.indexOf(u.d.next)?u.d.next:s.a.getNextType(),k=function(){if(!u.d||!u.d.cur)return null;var t=u.d.cur,e={type:t.type,rotateIndex:t.rotateIndex,shape:t.shape,xy:t.xy};return new o.a(e)}(),C={music:_,matrix:l,cur:k,next:w,lock:f,reset:d,pause:p,speedRun:x,speedStart:b,startLines:v,clearLines:h,points:y,maxPoints:g,drop:m,keyboard:{rotate:!1,down:!1,left:!1,right:!1,drop:!1,reset:!1,music:!1,pause:!1}};e.a=new r.b.Store({state:C,mutations:i.a})},,,,,,function(t,e,n){function a(t){n(117)}var r=n(0)(n(54),n(149),a,null,null);t.exports=r.exports},,,,,,,,,,,function(t,e,n){"use strict";var a=n(75),r=n.n(a),i=n(76),o=n.n(i),s=n(3),u=(n.n(s),n(1)),c=function(){function t(e){if(r()(this,t),this.type=e.type,e.rotateIndex?this.rotateIndex=e.rotateIndex:this.rotateIndex=0,e.timeStamp?this.timeStamp=e.timeStamp:this.timeStamp=Date.now(),e.shape?this.shape=e.shape:this.shape=u.f[e.type],e.xy)this.xy=e.xy;else switch(e.type){case"I":this.xy=[0,3];break;case"L":case"J":case"Z":case"S":case"O":case"T":this.xy=[-1,4]}}return o()(t,[{key:"rotate",value:function(){var t=n.i(s.fromJS)(this.shape),e=n.i(s.List)([]);t.forEach(function(t){return t.forEach(function(a,r){var i=t.size-r-1;void 0===e.get(i)&&(e=e.set(i,n.i(s.List)([])));var o=e.get(i).push(a);e=e.set(i,o)})});var a=[this.xy[0]+u.m[this.type][this.rotateIndex][0],this.xy[1]+u.m[this.type][this.rotateIndex][1]],r=this.rotateIndex+1>=u.m[this.type].length?0:this.rotateIndex+1;return{shape:e.toJS(),type:this.type,xy:a,rotateIndex:r,timeStamp:this.timeStamp}}},{key:"fallDown",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{shape:this.shape,type:this.type,xy:[this.xy[0]+t,this.xy[1]],rotateIndex:this.rotateIndex,timeStamp:Date.now()}}},{key:"right",value:function(){return{shape:this.shape,type:this.type,xy:[this.xy[0],this.xy[1]+1],rotateIndex:this.rotateIndex,timeStamp:this.timeStamp}}},{key:"left",value:function(){return{shape:this.shape,type:this.type,xy:[this.xy[0],this.xy[1]-1],rotateIndex:this.rotateIndex,timeStamp:this.timeStamp}}}]),t}();e.a=c},,,,,,,,,,,,,function(t,e,n){"use strict";var a=n(20),r=n(160),i=n(144),o=n.n(i);a.a.use(r.a),e.a=new r.a({routes:[{path:"/",name:"index",component:o.a}]})},function(t,e,n){function a(t){n(123)}var r=n(0)(n(45),n(155),a,null,null);t.exports=r.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n(1);e.default={props:["active","color","size","top","left","position","label","arrow"]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(1);e.default={name:"decorate",computed:{title:function(){return a.a.title[a.b]}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(21),r=n.n(a),i=n(132),o=n.n(i),s=n(62),u=n(13),c=n(1);e.default={data:function(){return{fillNum:0,ren:{rotation:c.a.rotation[c.b],labelRight:c.a.right[c.b],labelDown:c.a.down[c.b],labelLeft:c.a.left[c.b],labelDropSpace:c.a.drop[c.b]+" (SPACE)",labelReset:c.a.reset[c.b]+"(R)",labelSound:c.a.sound[c.b]+"(S)",labelPause:c.a.pause[c.b]+"(P)"}}},props:["fill"],watch:{fill:function(t,e){this.fillNum=t+20}},mounted:function(){this.setkey()},computed:{},methods:{keyboard:function(t){return this.$store.state.keyboard[t]},setkey:function(){var t=this;document.addEventListener("touchstart",function(t){t.preventDefault&&t.preventDefault()},!0),document.addEventListener("mousedown",function(t){t.preventDefault&&t.preventDefault()},!0),r()(s.a).forEach(function(e){t.$refs["dom-"+e].$el.addEventListener("mousedown",function(){s.a[e].down(u.a),t.$store.state.keyboard[e]=!0},!0),t.$refs["dom-"+e].$el.addEventListener("mouseup",function(){s.a[e].up(u.a),t.$store.state.keyboard[e]=!1},!0),t.$refs["dom-"+e].$el.addEventListener("mouseout",function(){s.a[e].up(u.a),t.$store.state.keyboard[e]=!1},!0),t.$refs["dom-"+e].$el.addEventListener("touchstart",function(){s.a[e].down(u.a),t.$store.state.keyboard[e]=!0},!0),t.$refs["dom-"+e].$el.addEventListener("touchend",function(){s.a[e].up(u.a),t.$store.state.keyboard[e]=!1},!0)})}},components:{Vbutton:o.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(19),r=n.n(a);e.default={props:["level"],components:{Number:r.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(1);e.default={props:["reset","cur"],data:function(){return{timeOut:null,titleCenter:"",logoStyle:"s1",vshow:!1}},created:function(){this.getTitleCenter()},beforeMount:function(){this.setAnimate(this.$props)},watch:{$props:{handler:function(t,e){this.setAnimate(t)},deep:!0}},methods:{getTitleCenter:function(){this.titleCenter=a.a.titleCenter[a.b]},setAnimate:function(t){var e=this;if(clearTimeout(this.timeOut),t.cur||t.reset)return void(this.vshow=!1);var n="r",a=0,r=function(t,n){t&&(e.timeOut=setTimeout(t,n))},i=function(t){r(function(){e.vshow=!0,t&&t()},200)},o=function(t){r(function(){e.vshow=!1,t&&t()},200)},s=function(t,a,i){r(function(){e.logoStyle=n+2,r(function(){e.logoStyle=n+1,t&&t()},i)},a)},u=function t(i){r(function(){e.logoStyle=n+4,r(function(){if(e.logoStyle=n+3,a++,10!==a&&20!==a&&30!==a||(n=n="r"==n?"l":"r"),a<40)return void t(i);e.logoStyle=n+1,i&&r(i,4e3)},100)},100)},c=function t(){a=0,s(function(){s(function(){s(function(){e.logoStyle=n+2,u(t)},150,150)},150,150)},1e3,1500)};i(function(){o(function(){i(function(){o(function(){i(function(){c()})})})})})}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(3),r=(n.n(a),n(1)),i=n(2),o=n(4);e.default={data:function(){return{clearLines:!1,animateColor:2,isOver:!1,overState:null,matrix:""}},props:["propMatrix","reset","cur"],watch:{$props:{handler:function(t,e){this.getPropsChange(t)},deep:!0}},created:function(){this.getMatrix()},methods:{getMatrix:function(){this.isOver?this.matrix=this.overState:this.matrix=this.getMatrixData()},getMatrixData:function(t){t||(t=this.$props);var e=t.cur,r=e&&e.shape,i=n.i(a.fromJS)(e&&e.xy),o=n.i(a.fromJS)(t.propMatrix),s=this.clearLines;if(s){var u=this.animateColor;s.forEach(function(t){o=o.set(t,n.i(a.List)([u,u,u,u,u,u,u,u,u,u]))})}else r&&r.forEach(function(t,e){return t.forEach(function(t,n){if(t&&i.get(0)+e>=0){var a=o.get(i.get(0)+e),r=void 0;r=1!==a.get(i.get(1)+n)||s?1:2,a=a.set(i.get(1)+n,r),o=o.set(i.get(0)+e,a)}})});for(var c={},l=0;l<t.propMatrix.length;l++)for(var f=0;f<t.propMatrix[l].length;f++)c[l]=t.propMatrix[l];return o},getPropsChange:function(t){var e=this,n=i.a.isClears(t.propMatrix),a=t.reset;setTimeout(function(){e.clearLines=n,e.isOver=t.reset},0),this.getMatrix(),n&&!this.clearLines&&this.clearAnimate(n),n||!a||this.isOver||this.setOverState(t)},setOverState:function(t){var e=this,i=this.getMatrixData(t);if(this.overState=i,0==t.reset)return!1;for(var s=function(t){if(t<=19)i=i.set(19-t,n.i(a.List)(r.g));else{if(!(t>=20&&t<=39))return void o.a.overEnd();i=i.set(t-20,n.i(a.List)(r.h))}e.overState=i,e.getMatrix()},u=0;u<=40;u++)setTimeout(s.bind(null,u),40*(u+1))},clearAnimate:function(t){var e=this;setTimeout(function(){e.animateColor=0,e.getMatrix(),setTimeout(function(){e.animateColor=2,e.getMatrix(),setTimeout(function(){e.animateColor=0,e.getMatrix(),setTimeout(function(){o.a.clearLines(e.propMatrix,t),e.clearLines=!1},150)},150)},150)},150)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["music"]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(78),r=n.n(a),i=n(1),o={I:[1,0],O:[0,1],L:[0,0],J:[0,0],Z:[0,0],S:[0,0],T:[0,0]},s=[[0,0,0,0],[0,0,0,0]];e.default={data:function(){return{nextMatrix:s}},props:["nextType"],watch:{$props:{handler:function(t,e){this.setNextType(t.nextType)},deep:!0}},mounted:function(){this.setNextType(this.nextType)},methods:{setNextType:function(t){var e=i.f[t],n=s.map(function(t){return[].concat(r()(t))});e.forEach(function(e,a){e.forEach(function(e,r){e&&(n[a+o[t][0]][r+o[t][1]]=1)})}),this.nextMatrix=n}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{data:[],length:6}},watch:{$props:{handler:function(t,e){this.numCreation(t)},deep:!0}},props:["number","propTime","plevel"],created:function(){this.numInit(),this.numCreation()},methods:{numInit:function(){for(var t=0;t<this.length;t++)0==this.number&&0==t?this.data.unshift("0"):this.data.unshift("n")},numCreation:function(t){var e=void 0;this.propTime?(e=(this.propTime+"").split(","),this.length=this.propTime.length):e=this.plevel?(this.plevel+"").split(""):(this.number+"").split("");for(var n=0,a=this.length-e.length;n<a;n++)e.unshift("n");return this.data=e,!1}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(19),r=n.n(a);e.default={props:["pNum"],components:{Number:r.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["pause"]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(19),r=n.n(a),i=n(1),o=i.a.point[i.b],s=i.a.heightPoint[i.b],u=i.a.lastRound[i.b];e.default={data:function(){return{pointTimeout:null,pointTitle:"",pointNum:0}},props:["cur","maxPoint","points"],watch:{$props:{handler:function(t,e){this.onChange(t)},deep:!0}},components:{Number:r.a},mounted:function(){this.onChange(this.$props)},methods:{onChange:function(t){var e=this;if(clearInterval(this.pointTimeout),t.cur)this.pointTitle=t.points>=t.maxPoint?s:o,this.pointNum=t.points;else if(0!==t.points){!function n(){e.pointTitle=u,e.pointNum=t.points,e.pointTimeout=setTimeout(function(){e.pointTitle=s,e.pointNum=t.maxPoint,e.pointTimeout=setTimeout(n,200)},3e3)}()}else this.pointTitle=s,this.pointNum=t.maxPoint}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(19),r=n.n(a);e.default={data:function(){return{data:"",time_count:""}},beforeMount:function(){setInterval(this.onTime,1e3)},components:{Number:r.a},methods:{onTime:function(){var t=new Date,e=this.formate(t.getHours()),n=this.formate(t.getMinutes()),a=t.getSeconds()%2,r=e.concat(a?"d":"d_c",n);this.data=r},formate:function(t){return t<10?("0"+t).split(""):(""+t).split("")}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(77),r=n.n(a),i=n(42),o=n(1),s=n(4),u=n(133),c=n.n(u),l=n(137),f=n.n(l),d=n(136),p=n.n(d),m=n(134),v=n.n(m),h=n(142),x=n.n(h),b=n(143),y=n.n(b),g=n(138),_=n.n(g),w=n(141),k=n.n(w),C=n(140),T=n.n(C),S=n(139),L=n.n(S),R=n(135),I=n.n(R);e.default={name:"index",data:function(){return{size:{},indexWidth:document.documentElement.clientWidth,indexHeight:document.documentElement.clientHeight,fill:"",pNum:"",level:"",nextType:""}},created:function(){this.setSize(),this.getNumInit(),this.getTextType()},mounted:function(){window.addEventListener("resize",this.setResize.bind(this),!0)},methods:{getNumInit:function(){this.pNum=this.cur?o.a.clears[o.b]:o.a.startLine[o.b]},getTextType:function(){this.nextType=o.a.next[o.b],this.level=o.a.level[o.b]},setSize:function(){var t=this,e=0,n=function(){var n=t.indexWidth,a=t.indexHeight,r=a/n,i=void 0,s={};return r<1.5?i=a/960:(i=n/640,e=(a-960*i)/i/3,s={"padding-top":Math.floor(e)+42+"px","padding-bottom":Math.floor(e)+"px","margin-top":Math.floor(-480-1.5*e)+"px"}),s[o.c]="scale("+i+")",s}();this.size=n,this.fill=e},setResize:function(){this.indexWidth=document.documentElement.clientWidth,this.indexHeight=document.documentElement.clientHeight,this.setSize(),this.setStart()},setStart:function(){if(o.d){if(o.d.cur&&!o.d.pause){var t=this.$store.state.speedRun,e=o.e[t-1]/2;e=t<o.e[o.e.length-1]?o.e[o.e.length-1]:t,s.a.auto(e)}o.d.cur||s.a.overStart()}else s.a.overStart()}},components:{Decorate:c.a,Matrix:f.a,Logo:p.a,Keyboard:v.a,Point:x.a,PropTime:y.a,Music:_.a,Pause:k.a,Pnum:T.a,NextType:L.a,Level:I.a},computed:r()({getNum:function(){return this.pNum=this.cur?o.a.clears[o.b]:o.a.startLine[o.b]}},n.i(i.a)(["matrix","cur","next","reset","keyboard","drop","pause","music","points","maxPoints","startLines","clearLines","speedRun","speedStart"]))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(20),r=n(44),i=n.n(r),o=n(43),s=n(13);n(1);n(2).a.subscribeRecord(s.a),a.a.config.productionTip=!1,new a.a({el:"#app",router:o.a,store:s.a,template:"<App/>",components:{App:i.a}})},function(t,e,n){"use strict";var a=n(6),r=n(4),i=n(2),o=n(3),s=(n.n(o),n(7)),u=function(t){null!==t.state.cur?a.a.down({key:"down",begin:40,interval:40,callback:function(e){var a=t.state,u=a.cur,c=u.fallDown();if(a.pause)return r.a.pause(!1),!1;if(s.a.move&&s.a.move(),a.lock)return!1;if(i.a.want(c,a.matrix))t.commit("moveBlock",c),r.a.auto();else{var l=u.shape,f=u.xy,d=n.i(o.fromJS)(a.matrix);l.forEach(function(t,e){return t.forEach(function(t,n){if(t&&f[0]+e>=0){var a=d.get(f[0]+e);a=a.set(f[1]+n,1),d=d.set(f[0]+e,a)}})}),r.a.nextAround(d,e)}}}):(console.log("61"),a.a.down({key:"down",begin:200,interval:100,callback:function(){var e=t.state,n=(e.cur,e.startLines);if(s.a.move&&s.a.move(),e.lock)return!1;n=n-1<0?10:n-1,t.commit("startLines",n)}}))},c=function(t){a.a.up({key:"down"})};e.a={down:u,up:c}},function(t,e,n){"use strict";var a=n(63),r=n(66),i=n(61),o=n(67),s=n(69),u=n(68),c=n(65),l=n(64);e.a={rotate:o.a,left:a.a,right:r.a,down:i.a,drop:s.a,music:u.a,reset:c.a,pause:l.a}},function(t,e,n){"use strict";var a=n(6),r=n(4),i=n(2),o=n(3),s=(n.n(o),n(7)),u=function(t){a.a.down({key:"left",begin:200,interval:100,callback:function(){var e=t.state,n=e.cur;if(e.lock)return!1;if(s.a.move&&s.a.move(),null!==n){var a=n.left();if(e.pause)return r.a.pause(!1),!1;i.a.want(a,e.matrix)&&t.commit("moveBlock",a)}else{var o=e.speedStart;o=o-1<1?6:o-1,t.commit("speedStart",o)}}})},c=function(t){a.a.up({key:"left"})};e.a={down:u,up:c}},function(t,e,n){"use strict";function a(){bridge.send("VKWebAppShowNativeAds",{ad_format:"interstitial"}).then(function(t){return console.log(t.result)}).catch(function(t){return console.log(t)})}var r=n(6),i=n(4),o=function(t){r.a.down({key:"pause",once:!0,callback:function(){var e=t.state,n=e.cur,r=e.pause;if(e.lock)return!1;null!==n?(i.a.pause(!r),a()):i.a.start()}})},s=function(t){r.a.up({key:"pause"})};e.a={down:o,up:s}},function(t,e,n){"use strict";var a=n(6),r=n(4),i=(n(2),n(3)),o=(n.n(i),function(t){a.a.down({key:"r",once:!0,callback:function(){if(t.state.lock)return!1;if(null!==t.state.cur)r.a.overStart();else{if(console.log(t.state.lock),t.state.lock)return!1;r.a.start()}}})}),s=function(t){a.a.up({key:"reset"})};e.a={down:o,up:s}},function(t,e,n){"use strict";var a=n(6),r=n(4),i=n(2),o=n(3),s=(n.n(o),n(7)),u=function(t){a.a.down({key:"right",begin:200,interval:100,callback:function(){var e=t.state,n=e.cur;if(e.lock)return!1;if(s.a.move&&s.a.move(),null!==n){var a=n.right();if(e.pause)return r.a.pause(!1),!1;i.a.want(a,e.matrix)&&t.commit("moveBlock",a)}else{var o=e.speedStart;o=o+1>6?1:o+1,t.commit("speedStart",o)}}})},c=function(t){a.a.up({key:"right"})};e.a={down:u,up:c}},function(t,e,n){"use strict";var a=n(6),r=n(4),i=n(2),o=n(3),s=(n.n(o),n(7)),u=function(t){var e=t.state,n=e.cur;null!==t.state.cur?a.a.down({key:"rotate",once:!0,callback:function(){if(e.lock)return console.log("rotate-19"),!1;if(s.a.rotate&&s.a.rotate(),e.pause&&r.a.pause(!1),null===n)return!1;var a=n.rotate();i.a.want(a,e.matrix)&&t.commit("moveBlock",a)}}):a.a.down({key:"rotate",begin:200,interval:100,callback:function(){var e=t.state,n=(e.cur,e.startLines);if(s.a.move&&s.a.move(),e.lock)return!1;n=n+1>10?0:n+1,t.commit("startLines",n)}})},c=function(t){a.a.up({key:"rotate"})};e.a={down:u,up:c}},function(t,e,n){"use strict";var a=n(6),r=function(t){if(t.state.lock)return!1;a.a.down({key:"music",once:!0,callback:function(){t.commit("music",!t.state.music)}})},i=function(t){a.a.up({key:"music"})};e.a={down:r,up:i}},function(t,e,n){"use strict";var a=n(6),r=n(4),i=n(2),o=n(3),s=(n.n(o),n(7)),u=function(t){a.a.down({key:"space",once:!0,callback:function(){var e=t.state,a=e.cur;if(e.lock)return!1;if(null!==a){if(e.pause)return r.a.pause(!1),!1;s.a.fall&&s.a.fall();for(var u=0,c=a.fallDown(u);i.a.want(c,e.matrix);)c=a.fallDown(u),u++;var l=n.i(o.fromJS)(e.matrix);c=a.fallDown(u-2),t.commit("moveBlock",c);var f=c.shape,d=c.xy;f.forEach(function(t,e){return t.forEach(function(t,n){if(t&&d[0]+e>=0){var a=l.get(d[0]+e);a=a.set(d[1]+n,1),l=l.set(d[0]+e,a)}})}),t.commit("drop",!0),setTimeout(function(){t.commit("drop",!1)},100),r.a.nextAround(l)}else r.a.start()}})},c=function(t){a.a.up({key:"space"})};e.a={down:u,up:c}},function(t,e,n){"use strict";var a=n(2),r=n(30),i={nextBlock:function(t,e){e||(e=a.a.getNextType()),t.next=e},matrix:function(t,e){t.matrix=e},moveBlock:function(t,e){t.cur=!0===e.reset?null:new r.a(e)},reset:function(t,e){t.reset=e},lock:function(t,e){t.lock=e},drop:function(t,e){t.drop=e},pause:function(t,e){t.pause=e},clearLines:function(t,e){t.clearLines=e},music:function(t,e){t.music=e},speedRun:function(t,e){t.speedRun=e},speedStart:function(t,e){t.speedStart=e},points:function(t,e){t.points=e},maxPoints:function(t,e){console.log(),t.maxPoints=e},startLines:function(t,e){t.startLines=e}};e.a=i},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,function(t,e,n){function a(t){n(115)}var r=n(0)(n(46),n(147),a,null,null);t.exports=r.exports},function(t,e,n){function a(t){n(125),n(124)}var r=n(0)(n(47),n(156),a,null,null);t.exports=r.exports},function(t,e,n){function a(t){n(121)}var r=n(0)(n(48),n(153),a,null,null);t.exports=r.exports},function(t,e,n){function a(t){n(119)}var r=n(0)(n(49),n(151),a,null,null);t.exports=r.exports},function(t,e,n){function a(t){n(113)}var r=n(0)(n(50),n(145),a,null,null);t.exports=r.exports},function(t,e,n){function a(t){n(128)}var r=n(0)(n(51),n(159),a,null,null);t.exports=r.exports},function(t,e,n){function a(t){n(126)}var r=n(0)(n(52),n(157),a,null,null);t.exports=r.exports},function(t,e,n){function a(t){n(122)}var r=n(0)(n(53),n(154),a,null,null);t.exports=r.exports},function(t,e,n){function a(t){n(116)}var r=n(0)(n(55),n(148),a,null,null);t.exports=r.exports},function(t,e,n){function a(t){n(118)}var r=n(0)(n(56),n(150),a,null,null);t.exports=r.exports},function(t,e,n){function a(t){n(114)}var r=n(0)(n(57),n(146),a,null,null);t.exports=r.exports},function(t,e,n){function a(t){n(127)}var r=n(0)(n(58),n(158),a,null,null);t.exports=r.exports},function(t,e,n){function a(t){n(120)}var r=n(0)(n(59),n(152),a,null,null);t.exports=r.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.vshow,expression:"vshow"}],staticClass:"logo"},[n("div",{staticClass:"bg dragon",class:t.logoStyle}),t._v(" "),n("p",{domProps:{innerHTML:t._s(t.titleCenter)}})])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"point"},[n("p",[t._v(t._s(t.pointTitle))]),t._v(" "),n("Number",{attrs:{number:t.pointNum}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"button",class:t.color+" "+t.size,style:"top:"+t.top+"px;left:"+t.left+"px"},[n("i",{class:{active:t.active}}),t._v(" "),n("em",{directives:[{name:"show",rawName:"v-show",value:"s1"===t.size,expression:"size==='s1'"}],style:"transform:"+t.arrow+" scale(1,2)"}),t._v(" "),n("span",{class:t.position},[t._v(t._s(t.label))])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pnum"},[n("Number",{attrs:{number:t.pNum}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"number"},t._l(t.data,function(t,e){return n("span",{class:"bg s_"+t})}),0)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"bg pause",class:t.pause?"c":""})},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"level"},[n("Number",{attrs:{plevel:t.level}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app",style:t.size},[n("div",{staticClass:"rect",class:t.drop?"drop":""},[n("Decorate"),t._v(" "),n("div",{staticClass:"screen"},[n("div",{staticClass:"panel"},[n("Matrix",{attrs:{propMatrix:t.matrix,cur:t.cur,reset:t.reset}}),t._v(" "),n("Logo",{attrs:{reset:t.reset,cur:!!t.cur}}),t._v(" "),n("div",{staticClass:"state"},[n("Point",{attrs:{cur:!!t.cur,maxPoint:t.maxPoints,points:t.points}}),t._v(" "),n("p",[t._v(t._s(t.getNum))]),t._v(" "),n("Pnum",{attrs:{pNum:t.cur?t.clearLines:t.startLines}}),t._v(" "),n("p",[t._v(t._s(t.level))]),t._v(" "),n("Level",{attrs:{level:t.cur?t.speedRun:t.speedStart}}),t._v(" "),n("p",[t._v(t._s(t.nextType))]),t._v(" "),n("NextType",{attrs:{nextType:t.next}}),t._v(" "),n("div",{staticClass:"bottom"},[n("PropTime"),t._v(" "),n("Music",{attrs:{music:t.music}}),t._v(" "),n("Pause",{attrs:{pause:t.pause}})],1)],1)],1)])],1),t._v(" "),n("Keyboard",{attrs:{fill:t.fill}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"keyboard",style:"margin-top:"+t.fillNum+"px"},[n("vbutton",{ref:"dom-rotate",attrs:{color:"blue",size:"s1",top:0,left:374,label:t.ren.rotation,arrow:"translate(0, 63px)",position:"position",active:t.keyboard("rotate")}}),t._v(" "),n("vbutton",{ref:"dom-right",attrs:{color:"blue",size:"s1",top:90,left:464,label:t.ren.labelRight,arrow:"translate(-60px, -12px) rotate(90deg)",active:t.keyboard("right")}}),t._v(" "),n("vbutton",{ref:"dom-down",attrs:{color:"blue",size:"s1",top:180,left:374,label:t.ren.labelDown,arrow:"translate(0,-57px) rotate(180deg)",active:t.keyboard("down")}}),t._v(" "),n("vbutton",{ref:"dom-left",attrs:{color:"blue",size:"s1",top:90,left:284,label:t.ren.labelLeft,arrow:"translate(60px, 3px) rotate(270deg)",active:t.keyboard("left")}}),t._v(" "),n("vbutton",{ref:"dom-drop",attrs:{color:"blue",size:"s0",top:100,left:52,label:t.ren.labelDropSpace,arrow:"translate(60px, 3px) rotate(270deg)",active:t.keyboard("drop")}}),t._v(" "),n("vbutton",{ref:"dom-reset",attrs:{color:"red",size:"s2",top:0,left:196,label:t.ren.labelReset,active:t.keyboard("reset")}}),t._v(" "),n("vbutton",{ref:"dom-music",attrs:{color:"green",size:"s2",top:0,left:106,label:t.ren.labelSound,active:t.keyboard("music")}}),t._v(" "),n("vbutton",{ref:"dom-pause",attrs:{color:"green",size:"s2",top:0,left:16,label:t.ren.labelPause,active:t.keyboard("pause")}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nextType"},t._l(t.nextMatrix,function(e,a){return n("div",t._l(e,function(t,e){return n("b",{staticClass:"b",class:t?"c":""})}),0)}),0)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"decorate"},[n("div",{staticClass:"topBorder"},t._l(10,function(t,e){return n("span",{staticClass:"ml",class:{w40:0==e||5==e,l:e<5,r:e>=5}})}),0),t._v(" "),n("h1",[t._v(t._s(t.title))]),t._v(" "),n("div",{staticClass:"centView"},[n("div",{staticClass:"view"},[n("div",t._l(8,function(t,e){return 1==e||4==e?n("b",{staticClass:"clear"}):5==e?n("b",{staticClass:"em"}):7==e?n("b",{staticClass:"p"}):n("b",{staticClass:"b c"})}),0),t._v(" "),n("div",t._l(9,function(t,e){return 2==e||5==e?n("b",{staticClass:"clear"}):0==e||6==e?n("b",{staticClass:"em"}):8==e?n("b",{staticClass:"p"}):n("b",{staticClass:"b c"})}),0),t._v(" "),n("div",t._l(5,function(t,e){return 4==e?n("b",{staticClass:"p"}):n("b",{staticClass:"b c"})}),0),t._v(" "),n("div",t._l(7,function(t,e){return 1==e||4==e?n("b",{staticClass:"clear"}):6==e?n("b",{staticClass:"p"}):n("b",{staticClass:"b c"})}),0),t._v(" "),n("div",t._l(7,function(t,e){return 2==e||4==e?n("b",{staticClass:"clear"}):6==e?n("b",{staticClass:"p"}):n("b",{staticClass:"b c"})}),0),t._v(" "),n("div",t._l(11,function(t,e){return 2==e||5==e||8==e?n("b",{staticClass:"clear"}):0==e||3==e||6==e||9==e?n("b",{staticClass:"em"}):n("b",{staticClass:"b c"})}),0)]),t._v(" "),n("div",{staticClass:"view l"},[n("div",t._l(8,function(t,e){return 2==e||5==e?n("b",{staticClass:"clear"}):0==e?n("b",{staticClass:"em"}):7==e?n("b",{staticClass:"p"}):n("b",{staticClass:"b c"})}),0),t._v(" "),n("div",t._l(7,function(t,e){return 1==e||4==e?n("b",{staticClass:"clear"}):6==e?n("b",{staticClass:"p"}):n("b",{staticClass:"b c"})}),0),t._v(" "),n("div",t._l(5,function(t,e){return 4==e?n("b",{staticClass:"p"}):n("b",{staticClass:"b c"})}),0),t._v(" "),n("div",t._l(9,function(t,e){return 2==e||5==e?n("b",{staticClass:"clear"}):0==e||6==e?n("b",{staticClass:"em"}):8==e?n("b",{staticClass:"p"}):n("b",{staticClass:"b c"})}),0),t._v(" "),n("div",t._l(9,function(t,e){return 2==e||5==e?n("b",{staticClass:"clear"}):3==e||6==e?n("b",{staticClass:"em"}):8==e?n("b",{staticClass:"p"}):n("b",{staticClass:"b c"})}),0),t._v(" "),n("div",t._l(7,function(t,e){return 1==e||3==e||5==e?n("b",{staticClass:"clear"}):n("b",{staticClass:"b c"})}),0)])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"bg music",class:t.music?"":"c"})},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pTime"},[n("Number",{attrs:{propTime:t.data}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"matrix"},t._l(t.matrix._tail.array,function(e,a){return n("p",t._l(e._tail.array,function(t,e){return n("b",{staticClass:"b",class:{c:1===t,d:2===t}})}),0)}),0)},staticRenderFns:[]}},,,function(t,e){t.exports={lan:["ru","cn","en","fr"],default:"ru",data:{title:{ru:"Тетрис",cn:"俄罗斯方块",en:"TETRIS",FR:"还换,没有了"},github:{ru:"Гитхаб",cn:"GitHub",en:"GitHub",fr:"GitHub"},linkTitle:{ru:"код",cn:"biubiubiu~",en:"see data source",fr:"Afficher la source des données"},QRCode:{ru:"куар",cn:"贰緯碼",en:"QR code",fr:"QR code"},QRNotice:{ru:"куар...",cn:"扫不扫,瓜皮",en:"Scan QR code to play with a mobile phone",fr:"Numérisez le code QR pour jouer avec un téléphone mobile"},titleCenter:{ru:"Тетрис",cn:"俄罗斯方块",en:"TETRIS",fr:"TETRIS"},point:{ru:"Очки",cn:"得分",en:"point",fr:"score"},heightPoint:{ru:"Максимум",cn:"最高分",en:"Max",fr:"Max"},lastRound:{ru:"Послед.раунд",cn:"上次得分",en:"Last Round",fr:"Dernier Tour"},clears:{ru:"Линии",cn:"消除行",en:"Clears",fr:"Lignes"},level:{ru:"Уровень",cn:"等级",en:"Level",fr:"Difficulté"},startLine:{ru:"Стартовая",cn:"起始行",en:"Start Line",fr:"Ligne Départ"},next:{ru:"Дальше:",cn:"下一个",en:"Next",fr:"Prochain"},pause:{ru:"Пауза",cn:"暂停",en:"Pause",fr:"Pause"},sound:{ru:"Звуки",cn:"音效",en:"Sound",fr:"Sonore"},reset:{ru:"Новая игра",cn:"重玩",en:"Reset",fr:"Réinitialiser"},rotation:{ru:"Поворот",cn:"旋转",en:"Rotation",fr:"Rotation"},left:{ru:"Влево",cn:"左移",en:"Left",fr:"Gauche"},right:{ru:"Вправо",cn:"右移",en:"Right",fr:"Droite"},down:{ru:"Вниз",cn:"下移",en:"Down",fr:"Bas"},drop:{ru:"Уронить",cn:"掉落",en:"Drop",fr:"Tomber"}}}}],[60]);
//# sourceMappingURL=app.74b12b79b678e366eb0f.js.map